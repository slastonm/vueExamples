<!DOCTYPE html>
<html>
	<style>
		*{padding:0;margin:0;list-style:none;}
		body{padding:20px;}
		li{margin:5px;background:crimson;color:white;font-size:24px;padding:5px;border-radius:5px}
	</style>
	<head>
		<title>Ajax Project</title>
	<body>
		<ul id='ul'></ul>
	<script type='text/javascript'>
		var ajax = new XMLHttpRequest()
		var ul = document.getElementById('ul')
		function request(){
			var url = './interface.php'
			ajax.onreadystatechange = response
			ajax.open('POST',url,true)
			ajax.setRequestHeader('Content-Type','application/x-www-form-urlencoded')
			ajax.send('range=all')
		}
		function response(){
			if(ajax.readyState == 4){
				if(ajax.status == 200){
					var result = JSON.parse(ajax.responseText)
					if(result[0]){
						// true, rows retrieved
						var row_total = result[1].length
						ul.innerHTML=""
						for(i=0;i<row_total;i++){
							li_content = "Brand is: "+result[1][i].brand+" and Model is: "+result[1][i].model
							make_list_item(li_content,ul)
						}
					}else{
						// false, no row retrieved
						ul.innerHTML=""
						make_list_item(result[1],ul)
					}
				}
			}
		}
		function make_list_item(list_item_content,parent_element){
			var li = document.createElement('li')
			li.append(list_item_content)
			parent_element.appendChild(li)
		}
		//request()
		setInterval(function(){request()},1000)
		
		
		
	</script>	
	</body>
</html>